(this["webpackJsonpnews-app"]=this["webpackJsonpnews-app"]||[]).push([[0],{118:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(7),s=a.n(o),c=(a(80),a(81),a(25)),i=a(16),l=a(33),u=a(34),g=a(38),d=a(10),m=a(31),p=(a(82),a(169)),h=a(61),f=a.n(h),v=a(59),b=a(155),w=a(157),S=a(158),y=a(32),E=a(160),k=a(161),O=a(159),C=a(63),N=a.n(C),B=a(60),_=a(39),j=Object(B.a)((function(e){return{card:{alignContent:"start",textAlign:"start",position:"relative",margin:10},media:{height:0,paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:_.a[500]}}}));function x(e){var t=j(),a=r.a.useState(!1),n=Object(m.a)(a,2),o=n[0],s=n[1],c=null,i=null,l=null,u=null,g=null,h=null,C=null;e.loaded&&(c=e.title,i=e.desc,l=e.content,u=e.source,g=e.imageUrl,h=e.publishedAt,C=e.url),l&&(l=(l=l.toString()).substring(0,l.length-13)),h=h.toString(),h=new Date(h),p.a.addLocale(f.a),h=new p.a("en-US").format(h);var B=r.a.createElement(b.a,{component:"img",alt:c,height:"400",image:g,title:c}),_=r.a.createElement(w.a,{className:t.card},r.a.createElement(S.a,{style:{padding:10}},B,r.a.createElement(y.a,{align:"start",gutterBottom:!0,variant:"h5",component:"h2"},c),r.a.createElement(y.a,{component:"p"},i?i.toString().substring(0,100):"","..."),r.a.createElement(O.a,{className:Object(v.a)(t.expand,Object(d.a)({},t.expandOpen,o)),onClick:function(){s(!o)},"aria-expanded":o,"aria-label":"show more"},r.a.createElement(N.a,null)),r.a.createElement("small",{className:"sourceText"},u," | ",h)),r.a.createElement(E.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(S.a,null,r.a.createElement(y.a,{paragraph:!0},l,r.a.createElement(k.a,{href:C,target:"_blank",variant:"body1"},"Read more")))));return r.a.createElement(r.a.Fragment,null,_)}a(98);var D=a(64),A=a.n(D),H=function(e){return r.a.createElement("div",{className:A.a.loader})};function L(e){var t=r.a.createElement("div",{style:{marginTop:"50vh",marginLeft:"50vh",marginRight:"50vh",marginBottom:"50vh",alignSelf:"center"}},r.a.createElement(H,null));return e.loaded&&(t=e.newsList.map((function(t){return r.a.createElement(x,{loaded:e.loaded,imageUrl:t.urlToImage,source:t.source.name,key:t.title,title:t.title,desc:t.description,content:t.content,publishedAt:t.publishedAt,url:t.url})}))),r.a.createElement("main",null,r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement("br",null),t))}a(99);var I=a(22),q=a.n(I),T=a(166),U=a(165),M=a(162),R=a(168),J=a(170),P=a(163),Q=a(171),F=a(164),K=a(68),X=a.n(K),Z=a(167),z=a(11),G=a(43),V=a.n(G),W=a(65),Y=a(44),$=a.n(Y),ee=a(45),te=a.n(ee),ae=(a(66),function(e){var t=[];return e.show&&(t=e.suggestionData.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("p",null,e.title))}))),r.a.createElement("div",null,e.show?r.a.createElement("div",{className:te.a.suggestionArea},r.a.createElement("div",{className:te.a.suggestionList},t)):null)}),ne="https://newsapi.org/v2/everything?",re=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={suggestionData:null,showSuggestions:!1,query:"",category:"blalbla"},a.searchBarChangedHandler=function(){var e=Object(W.a)(V.a.mark((function e(t){var n,r,o;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.value,e.next=3,a.setState({query:n});case 3:r=null,""===a.state.query?(console.log("0"),r={showSuggestions:!1,suggestionData:null},a.setState(r)):a.state.query.length>=5&&(o=ne+"q="+a.state.query+"&sortBy=publishedAt&"+de,console.log("requesting"),q.a.get(o).then((function(e){var t=e.data.articles;a.setState({suggestionData:t,showSuggestions:!0,category:"Headlines"}),""===a.state.query&&a.setState({showSuggestions:!1})})).catch((function(e){console.log(e)})));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.backdropClicked=function(){console.log("backdrop"),a.setState({showSuggestions:!1})},a.searchSubmitHandler=function(e,t){e.preventDefault();a.setState({showSuggestions:!1,query:"",suggestionData:null}),console.log("searchSubHandler",t),a.props.newsUsingSearch(t)},a}return Object(g.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:$.a.search},r.a.createElement("form",{onSubmit:function(t){return e.searchSubmitHandler(t,e.state.query)}},r.a.createElement("input",{onChange:this.searchBarChangedHandler,className:$.a.input,placeholder:"Search",value:this.state.query})),r.a.createElement(ae,{show:this.state.showSuggestions,suggestionData:this.state.suggestionData,backdropClicked:this.backdropClicked}))}}]),t}(n.Component),oe=a(67),se=a.n(oe);var ce=Object(B.a)((function(e){var t;return{root:{display:"flex"},drawer:Object(d.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:(t={},Object(d.a)(t,e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),Object(d.a)(t,"backgroundColor","#3498db"),t),menuButton:Object(d.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})),ie="Home";var le=function(e){var t=e.container,a=ce(),o=Object(z.a)(),s=r.a.useState(!1),c=Object(m.a)(s,2),i=c[0],l=c[1],u=function(){var e=Object(n.useState)(0),t=Object(m.a)(e,2),a=(t[0],t[1]);return 1,function(){return a((function(e){return++e}))}}(),g=function(){l(!i)},d={borderRight:"4px solid #3498db",fontWeight:"bold",color:"#3498db"},p=r.a.createElement("div",null,r.a.createElement("div",{className:a.toolbar}),r.a.createElement(M.a,null),r.a.createElement(P.a,null,["Home","India","Tech","Sports","BBC"].map((function(t,a){return r.a.createElement(Q.a,{button:!0,key:t},r.a.createElement(F.a,{style:ie===t?d:{},primary:t,onClick:function(){return function(t){ie=t,l(!1),e.onOptionsClick(t),u()}(t)}}))}))));return r.a.createElement("div",{className:a.root},r.a.createElement(U.a,null),r.a.createElement(T.a,{position:"fixed",className:a.appBar},r.a.createElement(Z.a,null,r.a.createElement(O.a,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:g,className:a.menuButton},r.a.createElement(X.a,null)),r.a.createElement("h2",{className:se.a.heading},e.category),r.a.createElement(re,{newsUsingSearch:function(t){return e.getNewsUsingSearchQuery(t)}}))),r.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},r.a.createElement(J.a,{smUp:!0,implementation:"css"},r.a.createElement(R.a,{container:t,variant:"temporary",anchor:"rtl"===o.direction?"right":"left",open:i,onClose:g,classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},p)),r.a.createElement(J.a,{xsDown:!0,implementation:"css"},r.a.createElement(R.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},p))),"`")},ue="https://newsapi.org/v2/top-headlines?",ge="https://newsapi.org/v2/everything?",de="apiKey=ae066aa55c244b498bc6ffac49f29c60",me=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={newsList:null,loaded:!1,category:"Headlines"},a.getInitialNews=function(){a.setState({category:"Headlines"});var e=ue+"sources=google-news&"+de;q.a.get(e).then((function(e){var t=e.data.articles;a.setState({newsList:t,loaded:!0,category:"Headlines"})})).catch((function(e){console.log(e)}))},a.getIndiaTopHeadlines=function(){a.setState({category:"India"});var e=ue+"country=in&"+de;q.a.get(e).then((function(e){var t=e.data.articles;a.setState({newsList:t,loaded:!0,category:"India"})})).catch((function(e){console.log(e)}))},a.getCategoricalNews=function(e){var t=ue+"country=in&category="+e+"&"+de,n=null;"technology"===e?n="Technology":"sports"===e&&(n="Sports"),a.setState({category:n}),q.a.get(t).then((function(e){var t=e.data.articles;a.setState({newsList:t,loaded:!0,category:n})})).catch((function(e){console.log(e)}))},a.getNewsFromSource=function(e){a.setState({category:"BBC"});var t=ue+"sources="+e+"&"+de;q.a.get(t).then((function(e){var t=e.data.articles;a.setState({newsList:t,loaded:!0,category:"BBC"})})).catch((function(e){console.log(e)}))},a.getNewsUsingSearchQuery=function(e){var t=e.split(" ");t=t[0],a.setState({category:t,loaded:!1});var n=ge+"q="+e+"&sortBy=publishedAt&"+de;q.a.get(n).then((function(e){var t=e.data.articles;a.setState({newsList:t,loaded:!0})})).catch((function(e){console.log(e)}))},a.handleOnOptionClick=function(e){console.log(e),a.setState({loaded:!1}),"Home"===e&&a.getInitialNews(),"India"===e&&a.getIndiaTopHeadlines(),"Tech"===e&&a.getCategoricalNews("technology"),"Sports"===e&&a.getCategoricalNews("sports"),"BBC"===e&&a.getNewsFromSource("bbc-news")},a.searchBarChanged=function(e){e.preventDefault()},a.sideDrawerToggleHandler=function(){var e=!a.state.showSideDrawerMobile;a.setState({showSideDrawerMobile:e})},a.sideDrawerClosedHandler=function(){a.setState({showSideDrawerMobile:!1})},a}return Object(g.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getInitialNews()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement(le,{getNewsUsingSearchQuery:function(t){return e.getNewsUsingSearchQuery(t)},category:this.state.category,onOptionsClick:function(t){return e.handleOnOptionClick(t)}}),r.a.createElement(L,{newsList:this.state.newsList,category:this.state.category,loaded:this.state.loaded}))}}]),t}(r.a.Component);var pe=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(me,null))},he=r.a.createElement(pe,null);s.a.render(he,document.getElementById("root"))},44:function(e,t,a){e.exports={search:"SearchBar_search__3Jc9E",searchIcon:"SearchBar_searchIcon__Seh1g",input:"SearchBar_input__1J48-",inputAnimation:"SearchBar_inputAnimation__3ZtuC"}},45:function(e,t,a){e.exports={suggestionArea:"SuggestionArea_suggestionArea__i0ws-"}},64:function(e,t,a){e.exports={loader:"Spinner_loader__fTuX5",load7:"Spinner_load7__3lEXz"}},66:function(e,t,a){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},67:function(e,t,a){e.exports={heading:"ResponsiveNavBar_heading__162AZ"}},75:function(e,t,a){e.exports=a(118)},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.5f8bb7f3.chunk.js.map